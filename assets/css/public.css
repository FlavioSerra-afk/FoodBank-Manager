/* phpcs:ignoreFile */
/* FBM public shortcodes */
.fbm-public{--fbm-color-accent:var(--fbm-accent,#0B5FFF);--fbm-color-text:#1f2937;--fbm-color-surface:#fff;--fbm-color-border:#e5e7eb;--fbm-shadow-rgb:0 0 0;--fbm-glass-alpha:var(--fbm-alpha,0.24);--fbm-blur-max:12px;--fbm-glass-blur:clamp(0px,var(--fbm-blur,8px),var(--fbm-blur-max));--fbm-card-radius:var(--fbm-radius,20px);--fbm-border-w:var(--fbm-border,1px);--fbm-elev-shadow:0 8px 32px rgba(var(--fbm-shadow-rgb)/0.10);--fbm-inset-top:inset 0 1px 0 rgba(255 255 255 / 0.50);--fbm-inset-bottom:inset 0 -1px 0 rgba(255 255 255 / 0.10);--fbm-inset-glow:inset 0 0 20px 10px rgba(255 255 255 / 0.60);--fbm-focus-ring:color-mix(in oklab,var(--fbm-color-accent) 75%,black 25%)}
.fbm-public :focus-visible{outline:2px solid var(--fbm-color-accent);outline-offset:2px}
.fbm-public input[type=radio],.fbm-public input[type=checkbox]{color:var(--fbm-color-accent);accent-color:var(--fbm-color-accent)}
@media (forced-colors: active){.fbm-public :focus-visible{outline:2px solid CanvasText}.fbm-public input[type=radio],.fbm-public input[type=checkbox]{color:ButtonText;accent-color:ButtonText}}
/* Base utilities */
 .fbm-grid{display:grid;gap:16px;grid-auto-rows:1fr;}
@media (min-width:768px){.fbm-grid{grid-template-columns:repeat(2,minmax(0,1fr));}}
@media (min-width:1200px){.fbm-grid{grid-template-columns:repeat(3,minmax(0,1fr));}}

/* Glass card */
 .fbm-card--glass{position:relative;overflow:hidden;border-radius:var(--fbm-card-radius);border:var(--fbm-border-w) solid rgba(255 255 255 / 0.30);background:rgba(255 255 255,var(--fbm-glass-alpha));box-shadow:var(--fbm-elev-shadow),var(--fbm-inset-top),var(--fbm-inset-bottom),var(--fbm-inset-glow);transition:transform .12s ease,box-shadow .12s ease;}
.fbm-card--glass::before,
.fbm-card--glass::after,
.fbm-button--glass::before,
.fbm-button--glass::after{content:"";position:absolute;pointer-events:none;}
.fbm-card--glass::before,
.fbm-button--glass::before{top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255 255 255/.8),transparent);}
.fbm-card--glass::after,
.fbm-button--glass::after{top:0;left:0;width:1px;height:100%;background:linear-gradient(180deg,rgba(255 255 255/.8),transparent,rgba(255 255 255/.3));}
.fbm-card--glass:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(var(--fbm-shadow-rgb)/0.18),var(--fbm-inset-top),var(--fbm-inset-bottom),var(--fbm-inset-glow);}
.fbm-card--glass:active{transform:translateY(0);}
.fbm-card--glass:focus{outline:3px solid color-mix(in oklab,var(--fbm-color-accent) 60%,white);outline-offset:2px;}

/* True blur only when supported */
@supports (backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px)){
  .fbm-card--glass{backdrop-filter:blur(var(--fbm-glass-blur));-webkit-backdrop-filter:blur(var(--fbm-glass-blur));}
}

/* Buttons */
 .fbm-button--glass{position:relative;overflow:hidden;display:inline-flex;align-items:center;justify-content:center;padding:.6rem 1rem;gap:.5rem;font-weight:600;border-radius:12px;border:var(--fbm-border-w) solid rgba(255 255 255 / .35);background:rgba(255 255 255,calc(var(--fbm-glass-alpha) + .06));box-shadow:0 2px 12px rgba(var(--fbm-shadow-rgb)/0.12),var(--fbm-inset-top);transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;}
.fbm-button--glass:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(var(--fbm-shadow-rgb)/0.18),var(--fbm-inset-top);}
.fbm-button--glass:focus{outline:3px solid color-mix(in oklab,var(--fbm-color-accent) 60%,white);outline-offset:2px;}
.fbm-button--glass:active{transform:translateY(0);}

/* Forms */
.fbm-form{padding:1rem;border-radius:var(--fbm-card-radius);border:var(--fbm-border-w) solid rgba(255 255 255/.35);background:rgba(255 255 255,var(--fbm-glass-alpha));box-shadow:var(--fbm-elev-shadow),var(--fbm-inset-top),var(--fbm-inset-bottom),var(--fbm-inset-glow);}
.fbm-form input,.fbm-form select,.fbm-form textarea{width:100%;padding:.5rem;border:1px solid var(--fbm-color-border);border-radius:calc(var(--fbm-card-radius) - 4px);background:rgba(255 255 255/.85);}
.fbm-form input:focus-visible,.fbm-form select:focus-visible,.fbm-form textarea:focus-visible,.fbm-form button:focus-visible{outline:2px solid var(--fbm-focus-ring);outline-offset:2px;}
 .fbm-form .is-invalid{border-color:color-mix(in oklab,var(--fbm-color-accent) 60%,black 40%);}
 .fbm-form .is-invalid:focus-visible{outline:2px solid var(--fbm-focus-ring);outline-offset:2px;}
 .fbm-form .fbm-error{display:flex;align-items:center;gap:.25rem;color:#b91c1c;}
 .fbm-form .fbm-error-icon{font-weight:700;}
@supports (backdrop-filter:blur(2px)){.fbm-form{backdrop-filter:blur(min(var(--fbm-glass-blur),var(--fbm-blur-max)));-webkit-backdrop-filter:blur(min(var(--fbm-glass-blur),var(--fbm-blur-max)));}}

/* Accessibility fallbacks */
@media (forced-colors: active){
  .fbm-card--glass,.fbm-button--glass,.fbm-form,.fbm-form input,.fbm-form select,.fbm-form textarea,.fbm-form button{background:Canvas;color:CanvasText;border-color:ButtonText;box-shadow:none;}
  .fbm-form input:focus-visible,.fbm-form select:focus-visible,.fbm-form textarea:focus-visible,.fbm-form button:focus-visible{outline:2px solid CanvasText;}
  .fbm-form .is-invalid{border-color:CanvasText;}
  .fbm-form .is-invalid:focus-visible{outline:2px solid CanvasText;}
  .fbm-form .fbm-error{color:CanvasText;}
}
@media (prefers-reduced-transparency: reduce){
  .fbm-card--glass,.fbm-button--glass,.fbm-form,.fbm-form input,.fbm-form select,.fbm-form textarea{background:var(--fbm-color-surface,#fff);backdrop-filter:none;-webkit-backdrop-filter:none;}
}
  @media (prefers-reduced-motion: reduce){
    .fbm-button--glass,.fbm-card--glass,.fbm-form *{transition:none;}
    .fbm-public .fbm-skeleton::after{animation:none}
  }

.fbm-tile{text-align:center;padding:1rem;position:relative}
.fbm-delta{position:absolute;top:4px;right:4px;padding:0 .25rem;font-size:.75rem;border-radius:.25rem;background:var(--fbm-color-border);color:var(--fbm-color-text)}
.fbm-delta--up{background:#e6ffea;color:#1e7e34}
.fbm-delta--down{background:#ffeaea;color:#b91c1c}

.fbm-skeleton{background:var(--fbm-color-border);position:relative;overflow:hidden}
.fbm-skeleton::after{content:"";position:absolute;inset:0;transform:translateX(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:fbm-shimmer 1.5s infinite}
@keyframes fbm-shimmer{100%{transform:translateX(100%)}}
