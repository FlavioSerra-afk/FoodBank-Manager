Dashboard, Settings, and Theme tests now stable with deterministic caps, sanitized inputs, and scoped CSS variables.

