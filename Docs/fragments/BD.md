Sanitised settings input and deterministic theme CSS vars; tests cover clamped defaults.
