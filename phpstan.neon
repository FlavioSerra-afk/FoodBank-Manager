parameters:
  level: 6
  tmpDir: build/phpstan
  parallel:
    maximumNumberOfProcesses: 8

  # Only analyze our source (exclude dist/vendor/assets/docs/languages/tests)
  paths:
    - foodbank-manager.php
    - includes

  excludePaths:
    - */vendor/*
    - */dist/*
    - */assets/*
    - */Docs/*
    - */analysis/*
    - */languages/*
    - */tests/*
    - */templates/*   # templates are view-only; optional to include later

  bootstrapFiles:
    - vendor/autoload.php
    - phpstan-bootstrap.php

  # WordPress environment assumptions
  # Keep false positives down
  checkImplicitMixed: false
  reportUnmatchedIgnoredErrors: false
  ignoreErrors:
    - identifier: missingType.iterableValue
    - identifier: missingType.generics
    - message: "#Offset 'captcha' on array{#"
      path: includes/Shortcodes/FormShortcode.php
    - message: '#Expression on left side of \?\? is not nullable#'
      path: includes/Http/FormSubmitController.php
