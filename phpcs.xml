<?xml version="1.0"?>
<ruleset name="FoodBank Manager">
  <description>WordPress coding standards for FoodBank Manager (namespaced, modern PHP).</description>

  <file>./</file>
  <exclude-pattern>vendor/*</exclude-pattern>
  <exclude-pattern>dist/*</exclude-pattern>
  <exclude-pattern>node_modules/*</exclude-pattern>
  <exclude-pattern>.github/*</exclude-pattern>
  <exclude-pattern>bin/*</exclude-pattern>
  <exclude-pattern>tests/*</exclude-pattern>

  <!-- Primary standards -->
  <rule ref="WordPress-Extra">
    <exclude name="WordPress.PHP.YodaConditions"/>
    <exclude name="WordPress.NamingConventions.PrefixAllGlobals"/>
    <exclude name="WordPress.Files.FileName"/>
    <exclude name="WordPress.NamingConventions.ValidFunctionName"/>
    <exclude name="WordPress.NamingConventions.ValidVariableName"/>
  </rule>
  <rule ref="WordPress-Docs"/>
  <rule ref="PHPCompatibilityWP"/>

  <!-- Target platforms -->
  <config name="testVersion" value="8.1-8.3"/>
  <config name="minimum_supported_wp_version" value="6.0"/>

  <!-- De-noise low-signal style sniffs -->
  <rule ref="Generic.WhiteSpace.DisallowSpaceIndent"><severity>0</severity></rule>
  <rule ref="Generic.WhiteSpace.ScopeIndent"><severity>0</severity></rule>
  <rule ref="Generic.Formatting.MultipleStatementAlignment"><severity>0</severity></rule>
  <rule ref="PEAR.Functions.FunctionCallSignature.SpaceAfterOpenBracket"><severity>0</severity></rule>
  <rule ref="PEAR.Functions.FunctionCallSignature.SpaceBeforeCloseBracket"><severity>0</severity></rule>
  <rule ref="Universal.Arrays.DisallowShortArraySyntax.Found"><severity>0</severity></rule>

  <!-- Tame line length noise (we already ignore comments) -->
  <rule ref="Generic.Files.LineLength">
    <properties>
      <property name="lineLimit" value="160"/>
      <property name="absoluteLineLimit" value="240"/>
      <property name="ignoreComments" value="true"/>
    </properties>
  </rule>

  <!-- Treat security & validation as first-class (keep strict) -->
  <rule ref="WordPress.Security.EscapeOutput"/>
  <rule ref="WordPress.Security.NonceVerification"/>
  <rule ref="WordPress.Security.ValidatedSanitizedInput"/>
  <rule ref="WordPress.DB.PreparedSQL"/>
  <rule ref="WordPress.DB.PreparedSQLPlaceholders"/>
</ruleset>
