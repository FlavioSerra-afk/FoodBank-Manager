<?xml version="1.0"?>
<ruleset name="FoodBank Manager">
  <description>Security-first PHPCS for FoodBank Manager (namespaced WP plugin).</description>

  <file>./</file>

  <!-- Exclusions -->
  <exclude-pattern>vendor/*</exclude-pattern>
  <exclude-pattern>dist/*</exclude-pattern>
  <exclude-pattern>node_modules/*</exclude-pattern>
  <exclude-pattern>.github/*</exclude-pattern>
  <exclude-pattern>analysis/*</exclude-pattern>
  <exclude-pattern>bin/*</exclude-pattern>
  <exclude-pattern>Docs/*</exclude-pattern>
  <exclude-pattern>tests/*</exclude-pattern>

  <!-- Primary standards -->
  <rule ref="WordPress-Extra"/>
  <rule ref="WordPress-Docs"/>
  <rule ref="PHPCompatibilityWP"/>

  <!-- Target platforms -->
  <config name="testVersion" value="8.1-8.3"/>
  <config name="minimum_supported_wp_version" value="6.0"/>

  <!-- Keep security sniffs STRICT -->
  <rule ref="WordPress.Security.EscapeOutput"/>
  <rule ref="WordPress.Security.NonceVerification"/>
  <rule ref="WordPress.Security.ValidatedSanitizedInput"/>
  <rule ref="WordPress.DB.PreparedSQL"/>
  <rule ref="WordPress.DB.PreparedSQLPlaceholders"/>

  <!-- De-noise low-signal style -->
  <exclude name="Generic.WhiteSpace.*"/>
  <exclude name="Generic.Formatting.MultipleStatementAlignment"/>
  <exclude name="PEAR.Functions.FunctionCallSignature.*"/>
  <exclude name="Universal.Arrays.DisallowShortArraySyntax.Found"/>

  <!-- Line length: be realistic -->
  <rule ref="Generic.Files.LineLength">
    <properties>
      <property name="lineLimit" value="160"/>
      <property name="absoluteLineLimit" value="240"/>
      <property name="ignoreComments" value="true"/>
    </properties>
  </rule>

  <!-- We’re namespaced, don’t require global prefixes or Yoda -->
  <exclude name="WordPress.PHP.YodaConditions"/>
  <exclude name="WordPress.NamingConventions.PrefixAllGlobals"/>
  <exclude name="WordPress.Files.FileName"/>
</ruleset>
